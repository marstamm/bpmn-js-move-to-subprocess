{"mappings":"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","sources":["modeler-extension/client.js","node_modules/camunda-modeler-plugin-helpers/index.js","lib/index.js","lib/ContextPadProvider.js","lib/util/refactoringUtil.js","node_modules/diagram-js/lib/util/Elements.js","node_modules/min-dash/dist/index.esm.js","lib/cmd/index.js","lib/cmd/ExtractionHandler.js","node_modules/bpmn-js/lib/util/DrilldownUtil.js","node_modules/bpmn-js/lib/util/ModelUtil.js"],"sourcesContent":["import {\n  registerBpmnJSPlugin,\n} from 'camunda-modeler-plugin-helpers';\n\nimport MoveToSubprocessModule from '../lib';\n\nregisterBpmnJSPlugin(MoveToSubprocessModule);\n","/**\n * Validate and register a client plugin.\n *\n * @param {Object} plugin\n * @param {String} type\n */\nexport function registerClientPlugin(plugin, type) {\n  var plugins = window.plugins || [];\n  window.plugins = plugins;\n\n  if (!plugin) {\n    throw new Error('plugin not specified');\n  }\n\n  if (!type) {\n    throw new Error('type not specified');\n  }\n\n  plugins.push({\n    plugin: plugin,\n    type: type\n  });\n}\n\n/**\n * Validate and register a client plugin.\n *\n * @param {import('react').ComponentType} extension\n *\n * @example\n *\n * import MyExtensionComponent from './MyExtensionComponent';\n *\n * registerClientExtension(MyExtensionComponent);\n */\nexport function registerClientExtension(component) {\n  registerClientPlugin(component, 'client');\n}\n\n/**\n * Validate and register a bpmn-js plugin.\n *\n * @param {Object} module\n *\n * @example\n *\n * import {\n *   registerBpmnJSPlugin\n * } from 'camunda-modeler-plugin-helpers';\n *\n * const BpmnJSModule = {\n *   __init__: [ 'myService' ],\n *   myService: [ 'type', ... ]\n * };\n *\n * registerBpmnJSPlugin(BpmnJSModule);\n */\nexport function registerBpmnJSPlugin(module) {\n  registerClientPlugin(module, 'bpmn.modeler.additionalModules');\n}\n\n/**\n * Validate and register a platform specific bpmn-js plugin.\n *\n * @param {Object} module\n *\n * @example\n *\n * import {\n *   registerPlatformBpmnJSPlugin\n * } from 'camunda-modeler-plugin-helpers';\n *\n * const BpmnJSModule = {\n *   __init__: [ 'myService' ],\n *   myService: [ 'type', ... ]\n * };\n *\n * registerPlatformBpmnJSPlugin(BpmnJSModule);\n */\nexport function registerPlatformBpmnJSPlugin(module) {\n  registerClientPlugin(module, 'bpmn.platform.modeler.additionalModules');\n}\n\n/**\n * Validate and register a cloud specific bpmn-js plugin.\n *\n * @param {Object} module\n *\n * @example\n *\n * import {\n *   registerCloudBpmnJSPlugin\n * } from 'camunda-modeler-plugin-helpers';\n *\n * const BpmnJSModule = {\n *   __init__: [ 'myService' ],\n *   myService: [ 'type', ... ]\n * };\n *\n * registerCloudBpmnJSPlugin(BpmnJSModule);\n */\nexport function registerCloudBpmnJSPlugin(module) {\n  registerClientPlugin(module, 'bpmn.cloud.modeler.additionalModules');\n}\n\n/**\n * Validate and register a bpmn-moddle extension plugin.\n *\n * @param {Object} descriptor\n *\n * @example\n * import {\n *   registerBpmnJSModdleExtension\n * } from 'camunda-modeler-plugin-helpers';\n *\n * var moddleDescriptor = {\n *   name: 'my descriptor',\n *   uri: 'http://example.my.company.localhost/schema/my-descriptor/1.0',\n *   prefix: 'mydesc',\n *\n *   ...\n * };\n *\n * registerBpmnJSModdleExtension(moddleDescriptor);\n */\nexport function registerBpmnJSModdleExtension(descriptor) {\n  registerClientPlugin(descriptor, 'bpmn.modeler.moddleExtension');\n}\n\n/**\n * Validate and register a platform specific bpmn-moddle extension plugin.\n *\n * @param {Object} descriptor\n *\n * @example\n * import {\n *   registerPlatformBpmnJSModdleExtension\n * } from 'camunda-modeler-plugin-helpers';\n *\n * var moddleDescriptor = {\n *   name: 'my descriptor',\n *   uri: 'http://example.my.company.localhost/schema/my-descriptor/1.0',\n *   prefix: 'mydesc',\n *\n *   ...\n * };\n *\n * registerPlatformBpmnJSModdleExtension(moddleDescriptor);\n */\nexport function registerPlatformBpmnJSModdleExtension(descriptor) {\n  registerClientPlugin(descriptor, 'bpmn.platform.modeler.moddleExtension');\n}\n\n/**\n * Validate and register a cloud specific bpmn-moddle extension plugin.\n *\n * @param {Object} descriptor\n *\n * @example\n * import {\n *   registerCloudBpmnJSModdleExtension\n * } from 'camunda-modeler-plugin-helpers';\n *\n * var moddleDescriptor = {\n *   name: 'my descriptor',\n *   uri: 'http://example.my.company.localhost/schema/my-descriptor/1.0',\n *   prefix: 'mydesc',\n *\n *   ...\n * };\n *\n * registerCloudBpmnJSModdleExtension(moddleDescriptor);\n */\nexport function registerCloudBpmnJSModdleExtension(descriptor) {\n  registerClientPlugin(descriptor, 'bpmn.cloud.modeler.moddleExtension');\n}\n\n/**\n * Validate and register a dmn-moddle extension plugin.\n *\n * @param {Object} descriptor\n *\n * @example\n * import {\n *   registerDmnJSModdleExtension\n * } from 'camunda-modeler-plugin-helpers';\n *\n * var moddleDescriptor = {\n *   name: 'my descriptor',\n *   uri: 'http://example.my.company.localhost/schema/my-descriptor/1.0',\n *   prefix: 'mydesc',\n *\n *   ...\n * };\n *\n * registerDmnJSModdleExtension(moddleDescriptor);\n */\nexport function registerDmnJSModdleExtension(descriptor) {\n  registerClientPlugin(descriptor, 'dmn.modeler.moddleExtension');\n}\n\n/**\n * Validate and register a cloud specific dmn-moddle extension plugin.\n *\n * @param {Object} descriptor\n *\n * @example\n * import {\n *   registerCloudDmnJSModdleExtension\n * } from 'camunda-modeler-plugin-helpers';\n *\n * var moddleDescriptor = {\n *   name: 'my descriptor',\n *   uri: 'http://example.my.company.localhost/schema/my-descriptor/1.0',\n *   prefix: 'mydesc',\n *\n *   ...\n * };\n *\n * registerCloudDmnJSModdleExtension(moddleDescriptor);\n */\nexport function registerCloudDmnJSModdleExtension(descriptor) {\n  registerClientPlugin(descriptor, 'dmn.cloud.modeler.moddleExtension');\n}\n\n/**\n * Validate and register a platform specific dmn-moddle extension plugin.\n *\n * @param {Object} descriptor\n *\n * @example\n * import {\n *   registerPlatformDmnJSModdleExtension\n * } from 'camunda-modeler-plugin-helpers';\n *\n * var moddleDescriptor = {\n *   name: 'my descriptor',\n *   uri: 'http://example.my.company.localhost/schema/my-descriptor/1.0',\n *   prefix: 'mydesc',\n *\n *   ...\n * };\n *\n * registerPlatformDmnJSModdleExtension(moddleDescriptor);\n */\nexport function registerPlatformDmnJSModdleExtension(descriptor) {\n  registerClientPlugin(descriptor, 'dmn.platform.modeler.moddleExtension');\n}\n\n/**\n * Validate and register a dmn-js plugin.\n *\n * @param {Object} module\n *\n * @example\n *\n * import {\n *   registerDmnJSPlugin\n * } from 'camunda-modeler-plugin-helpers';\n *\n * const DmnJSModule = {\n *   __init__: [ 'myService' ],\n *   myService: [ 'type', ... ]\n * };\n *\n * registerDmnJSPlugin(DmnJSModule, [ 'drd', 'literalExpression' ]);\n * registerDmnJSPlugin(DmnJSModule, 'drd')\n */\nexport function registerDmnJSPlugin(module, components) {\n\n  if (!Array.isArray(components)) {\n    components = [ components ]\n  }\n\n  components.forEach(c => registerClientPlugin(module, `dmn.modeler.${c}.additionalModules`));\n}\n\n/**\n * Validate and register a cloud specific dmn-js plugin.\n *\n * @param {Object} module\n *\n * @example\n *\n * import {\n *   registerCloudDmnJSPlugin\n * } from 'camunda-modeler-plugin-helpers';\n *\n * const DmnJSModule = {\n *   __init__: [ 'myService' ],\n *   myService: [ 'type', ... ]\n * };\n *\n * registerCloudDmnJSPlugin(DmnJSModule, [ 'drd', 'literalExpression' ]);\n * registerCloudDmnJSPlugin(DmnJSModule, 'drd')\n */\nexport function registerCloudDmnJSPlugin(module, components) {\n\n  if (!Array.isArray(components)) {\n    components = [ components ]\n  }\n\n  components.forEach(c => registerClientPlugin(module, `dmn.cloud.modeler.${c}.additionalModules`));\n}\n\n/**\n * Validate and register a platform specific dmn-js plugin.\n *\n * @param {Object} module\n *\n * @example\n *\n * import {\n *   registerPlatformDmnJSPlugin\n * } from 'camunda-modeler-plugin-helpers';\n *\n * const DmnJSModule = {\n *   __init__: [ 'myService' ],\n *   myService: [ 'type', ... ]\n * };\n *\n * registerPlatformDmnJSPlugin(DmnJSModule, [ 'drd', 'literalExpression' ]);\n * registerPlatformDmnJSPlugin(DmnJSModule, 'drd')\n */\nexport function registerPlatformDmnJSPlugin(module, components) {\n\n  if (!Array.isArray(components)) {\n    components = [ components ]\n  }\n\n  components.forEach(c => registerClientPlugin(module, `dmn.platform.modeler.${c}.additionalModules`));\n}\n\n/**\n * Return the modeler directory, as a string.\n *\n * @deprecated Will be removed in future Camunda Modeler versions without replacement.\n *\n * @return {String}\n */\nexport function getModelerDirectory() {\n  return window.getModelerDirectory();\n}\n\n/**\n * Return the modeler plugin directory, as a string.\n *\n * @deprecated Will be removed in future Camunda Modeler versions without replacement.\n *\n * @return {String}\n */\nexport function getPluginsDirectory() {\n  return window.getPluginsDirectory();\n}","import ContextPadProvider from './ContextPadProvider';\nimport ExtractionHandler from './cmd';\n\nexport default {\n  __depends__: [\n    ExtractionHandler,\n  ],\n  __init__: [\n    'extractSubprocessContextPadProvider',\n  ],\n  extractSubprocessContextPadProvider: ['type', ContextPadProvider],\n};\n","import {getGroupFlows} from './util/refactoringUtil';\n\nexport default class ContextPadProvider {\n  constructor(contextPad, translate, commandStack) {\n    const contextPadProvider = {\n      getMultiElementContextPadEntries(elements) {\n        return function(entries) {\n          const groupFlows = getGroupFlows(elements);\n\n          if (\n            groupFlows.incoming.length > 1 ||\n            groupFlows.outgoing.length > 1) {\n            return entries;\n          }\n\n          return {\n            ...entries,\n            'to-subprocess': {\n              title: translate('Extract elements to collapsed subprocess'),\n              className: 'bpmn-icon-subprocess-collapsed',\n              action() {\n                commandStack.execute('elements.moveToSubprocess', {\n                  elements,\n                  groupFlows,\n                });\n              },\n            },\n          };\n        };\n      },\n    };\n\n    contextPad.registerProvider(800, contextPadProvider);\n  }\n}\n\nContextPadProvider.inject = [\n  'contextPad',\n  'translate',\n  'commandStack',\n];\n","export * from 'diagram-js/lib/util/Elements';\n\nexport function getGroupFlows(elements) {\n  const {incoming: allIncoming, outgoing: allOutgoing} =\n  elements.reduce((flows, element) => {\n    const {incoming, outgoing} = flows;\n\n    incoming.push(\n        ...(element.incoming || []),\n    );\n\n    outgoing.push(\n        ...(element.outgoing || []),\n    );\n\n    return {incoming, outgoing};\n  }, {incoming: [], outgoing: []});\n\n  // filter flows that are part of the group\n\n  const incoming = allIncoming.filter((flow) => {\n    return !allOutgoing.includes(flow);\n  });\n\n  const outgoing = allOutgoing.filter((flow) => {\n    return !allIncoming.includes(flow);\n  });\n\n  return {incoming, outgoing};\n}\n","import {\n  assign,\n  filter,\n  find,\n  isArray,\n  isNumber,\n  isObject,\n  isUndefined,\n  groupBy,\n  forEach\n} from 'min-dash';\n\n/**\n * @typedef { {x:number, y: number, width: number, height: number} } Bounds\n */\n\n/**\n * Get parent elements.\n *\n * @param {Array<djs.model.base>} elements\n *\n * @returns {Array<djs.model.Base>}\n */\nexport function getParents(elements) {\n\n  // find elements that are not children of any other elements\n  return filter(elements, function(element) {\n    return !find(elements, function(e) {\n      return e !== element && getParent(element, e);\n    });\n  });\n}\n\n\nfunction getParent(element, parent) {\n  if (!parent) {\n    return;\n  }\n\n  if (element === parent) {\n    return parent;\n  }\n\n  if (!element.parent) {\n    return;\n  }\n\n  return getParent(element.parent, parent);\n}\n\n\n/**\n * Adds an element to a collection and returns true if the\n * element was added.\n *\n * @param {Array<Object>} elements\n * @param {Object} e\n * @param {boolean} unique\n */\nexport function add(elements, e, unique) {\n  var canAdd = !unique || elements.indexOf(e) === -1;\n\n  if (canAdd) {\n    elements.push(e);\n  }\n\n  return canAdd;\n}\n\n\n/**\n * Iterate over each element in a collection, calling the iterator function `fn`\n * with (element, index, recursionDepth).\n *\n * Recurse into all elements that are returned by `fn`.\n *\n * @param  {Object|Array<Object>} elements\n * @param  {Function} fn iterator function called with (element, index, recursionDepth)\n * @param  {number} [depth] maximum recursion depth\n */\nexport function eachElement(elements, fn, depth) {\n\n  depth = depth || 0;\n\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  forEach(elements, function(s, i) {\n    var filter = fn(s, i, depth);\n\n    if (isArray(filter) && filter.length) {\n      eachElement(filter, fn, depth + 1);\n    }\n  });\n}\n\n\n/**\n * Collects self + child elements up to a given depth from a list of elements.\n *\n * @param  {djs.model.Base|Array<djs.model.Base>} elements the elements to select the children from\n * @param  {boolean} unique whether to return a unique result set (no duplicates)\n * @param  {number} maxDepth the depth to search through or -1 for infinite\n *\n * @return {Array<djs.model.Base>} found elements\n */\nexport function selfAndChildren(elements, unique, maxDepth) {\n  var result = [],\n      processedChildren = [];\n\n  eachElement(elements, function(element, i, depth) {\n    add(result, element, unique);\n\n    var children = element.children;\n\n    // max traversal depth not reached yet\n    if (maxDepth === -1 || depth < maxDepth) {\n\n      // children exist && children not yet processed\n      if (children && add(processedChildren, children, unique)) {\n        return children;\n      }\n    }\n  });\n\n  return result;\n}\n\n/**\n * Return self + direct children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndDirectChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, 1);\n}\n\n\n/**\n * Return self + ALL children for a number of elements\n *\n * @param  {Array<djs.model.Base>} elements to query\n * @param  {boolean} allowDuplicates to allow duplicates in the result set\n *\n * @return {Array<djs.model.Base>} the collected elements\n */\nexport function selfAndAllChildren(elements, allowDuplicates) {\n  return selfAndChildren(elements, !allowDuplicates, -1);\n}\n\n\n/**\n * Gets the the closure for all selected elements,\n * their enclosed children and connections.\n *\n * @param {Array<djs.model.Base>} elements\n * @param {boolean} [isTopLevel=true]\n * @param {Object} [existingClosure]\n *\n * @return {Object} newClosure\n */\nexport function getClosure(elements, isTopLevel, closure) {\n\n  if (isUndefined(isTopLevel)) {\n    isTopLevel = true;\n  }\n\n  if (isObject(isTopLevel)) {\n    closure = isTopLevel;\n    isTopLevel = true;\n  }\n\n\n  closure = closure || {};\n\n  var allShapes = copyObject(closure.allShapes),\n      allConnections = copyObject(closure.allConnections),\n      enclosedElements = copyObject(closure.enclosedElements),\n      enclosedConnections = copyObject(closure.enclosedConnections);\n\n  var topLevel = copyObject(\n    closure.topLevel,\n    isTopLevel && groupBy(elements, function(e) { return e.id; })\n  );\n\n\n  function handleConnection(c) {\n    if (topLevel[c.source.id] && topLevel[c.target.id]) {\n      topLevel[c.id] = [ c ];\n    }\n\n    // not enclosed as a child, but maybe logically\n    // (connecting two moved elements?)\n    if (allShapes[c.source.id] && allShapes[c.target.id]) {\n      enclosedConnections[c.id] = enclosedElements[c.id] = c;\n    }\n\n    allConnections[c.id] = c;\n  }\n\n  function handleElement(element) {\n\n    enclosedElements[element.id] = element;\n\n    if (element.waypoints) {\n\n      // remember connection\n      enclosedConnections[element.id] = allConnections[element.id] = element;\n    } else {\n\n      // remember shape\n      allShapes[element.id] = element;\n\n      // remember all connections\n      forEach(element.incoming, handleConnection);\n\n      forEach(element.outgoing, handleConnection);\n\n      // recurse into children\n      return element.children;\n    }\n  }\n\n  eachElement(elements, handleElement);\n\n  return {\n    allShapes: allShapes,\n    allConnections: allConnections,\n    topLevel: topLevel,\n    enclosedConnections: enclosedConnections,\n    enclosedElements: enclosedElements\n  };\n}\n\n/**\n * Returns the surrounding bbox for all elements in\n * the array or the element primitive.\n *\n * @param {Array<djs.model.Shape>|djs.model.Shape} elements\n * @param {boolean} [stopRecursion=false]\n *\n * @return {Bounds}\n */\nexport function getBBox(elements, stopRecursion) {\n\n  stopRecursion = !!stopRecursion;\n  if (!isArray(elements)) {\n    elements = [ elements ];\n  }\n\n  var minX,\n      minY,\n      maxX,\n      maxY;\n\n  forEach(elements, function(element) {\n\n    // If element is a connection the bbox must be computed first\n    var bbox = element;\n    if (element.waypoints && !stopRecursion) {\n      bbox = getBBox(element.waypoints, true);\n    }\n\n    var x = bbox.x,\n        y = bbox.y,\n        height = bbox.height || 0,\n        width = bbox.width || 0;\n\n    if (x < minX || minX === undefined) {\n      minX = x;\n    }\n    if (y < minY || minY === undefined) {\n      minY = y;\n    }\n\n    if ((x + width) > maxX || maxX === undefined) {\n      maxX = x + width;\n    }\n    if ((y + height) > maxY || maxY === undefined) {\n      maxY = y + height;\n    }\n  });\n\n  return {\n    x: minX,\n    y: minY,\n    height: maxY - minY,\n    width: maxX - minX\n  };\n}\n\n\n/**\n * Returns all elements that are enclosed from the bounding box.\n *\n *   * If bbox.(width|height) is not specified the method returns\n *     all elements with element.x/y > bbox.x/y\n *   * If only bbox.x or bbox.y is specified, method return all elements with\n *     e.x > bbox.x or e.y > bbox.y\n *\n * @param {Array<djs.model.Shape>} elements List of Elements to search through\n * @param {djs.model.Shape} bbox the enclosing bbox.\n *\n * @return {Array<djs.model.Shape>} enclosed elements\n */\nexport function getEnclosedElements(elements, bbox) {\n\n  var filteredElements = {};\n\n  forEach(elements, function(element) {\n\n    var e = element;\n\n    if (e.waypoints) {\n      e = getBBox(e);\n    }\n\n    if (!isNumber(bbox.y) && (e.x > bbox.x)) {\n      filteredElements[element.id] = element;\n    }\n    if (!isNumber(bbox.x) && (e.y > bbox.y)) {\n      filteredElements[element.id] = element;\n    }\n    if (e.x > bbox.x && e.y > bbox.y) {\n      if (isNumber(bbox.width) && isNumber(bbox.height) &&\n          e.width + e.x < bbox.width + bbox.x &&\n          e.height + e.y < bbox.height + bbox.y) {\n\n        filteredElements[element.id] = element;\n      } else if (!isNumber(bbox.width) || !isNumber(bbox.height)) {\n        filteredElements[element.id] = element;\n      }\n    }\n  });\n\n  return filteredElements;\n}\n\n\nexport function getType(element) {\n\n  if ('waypoints' in element) {\n    return 'connection';\n  }\n\n  if ('x' in element) {\n    return 'shape';\n  }\n\n  return 'root';\n}\n\nexport function isFrameElement(element) {\n\n  return !!(element && element.isFrame);\n}\n\n// helpers ///////////////////////////////\n\nfunction copyObject(src1, src2) {\n  return assign({}, src1 || {}, src2 || {});\n}","/**\n * Flatten array, one level deep.\n *\n * @param {Array<?>} arr\n *\n * @return {Array<?>}\n */\nfunction flatten(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nconst nativeToString = Object.prototype.toString;\nconst nativeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isUndefined(obj) {\n  return obj === undefined;\n}\n\nfunction isDefined(obj) {\n  return obj !== undefined;\n}\n\nfunction isNil(obj) {\n  return obj == null;\n}\n\nfunction isArray(obj) {\n  return nativeToString.call(obj) === '[object Array]';\n}\n\nfunction isObject(obj) {\n  return nativeToString.call(obj) === '[object Object]';\n}\n\nfunction isNumber(obj) {\n  return nativeToString.call(obj) === '[object Number]';\n}\n\nfunction isFunction(obj) {\n  const tag = nativeToString.call(obj);\n\n  return (\n    tag === '[object Function]' ||\n    tag === '[object AsyncFunction]' ||\n    tag === '[object GeneratorFunction]' ||\n    tag === '[object AsyncGeneratorFunction]' ||\n    tag === '[object Proxy]'\n  );\n}\n\nfunction isString(obj) {\n  return nativeToString.call(obj) === '[object String]';\n}\n\n\n/**\n * Ensure collection is an array.\n *\n * @param {Object} obj\n */\nfunction ensureArray(obj) {\n\n  if (isArray(obj)) {\n    return;\n  }\n\n  throw new Error('must supply array');\n}\n\n/**\n * Return true, if target owns a property with the given key.\n *\n * @param {Object} target\n * @param {String} key\n *\n * @return {Boolean}\n */\nfunction has(target, key) {\n  return nativeHasOwnProperty.call(target, key);\n}\n\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function|Object} matcher\n *\n * @return {Object}\n */\nfunction find(collection, matcher) {\n\n  matcher = toMatcher(matcher);\n\n  let match;\n\n  forEach(collection, function(val, key) {\n    if (matcher(val, key)) {\n      match = val;\n\n      return false;\n    }\n  });\n\n  return match;\n\n}\n\n\n/**\n * Find element index in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Object}\n */\nfunction findIndex(collection, matcher) {\n\n  matcher = toMatcher(matcher);\n\n  let idx = isArray(collection) ? -1 : undefined;\n\n  forEach(collection, function(val, key) {\n    if (matcher(val, key)) {\n      idx = key;\n\n      return false;\n    }\n  });\n\n  return idx;\n}\n\n\n/**\n * Find element in collection.\n *\n * @param  {Array|Object} collection\n * @param  {Function} matcher\n *\n * @return {Array} result\n */\nfunction filter(collection, matcher) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    if (matcher(val, key)) {\n      result.push(val);\n    }\n  });\n\n  return result;\n}\n\n\n/**\n * Iterate over collection; returning something\n * (non-undefined) will stop iteration.\n *\n * @param  {Array|Object} collection\n * @param  {Function} iterator\n *\n * @return {Object} return result that stopped the iteration\n */\nfunction forEach(collection, iterator) {\n\n  let val,\n      result;\n\n  if (isUndefined(collection)) {\n    return;\n  }\n\n  const convertKey = isArray(collection) ? toNum : identity;\n\n  for (let key in collection) {\n\n    if (has(collection, key)) {\n      val = collection[key];\n\n      result = iterator(val, convertKey(key));\n\n      if (result === false) {\n        return val;\n      }\n    }\n  }\n}\n\n/**\n * Return collection without element.\n *\n * @param  {Array} arr\n * @param  {Function} matcher\n *\n * @return {Array}\n */\nfunction without(arr, matcher) {\n\n  if (isUndefined(arr)) {\n    return [];\n  }\n\n  ensureArray(arr);\n\n  matcher = toMatcher(matcher);\n\n  return arr.filter(function(el, idx) {\n    return !matcher(el, idx);\n  });\n\n}\n\n\n/**\n * Reduce collection, returning a single result.\n *\n * @param  {Object|Array} collection\n * @param  {Function} iterator\n * @param  {Any} result\n *\n * @return {Any} result returned from last iterator\n */\nfunction reduce(collection, iterator, result) {\n\n  forEach(collection, function(value, idx) {\n    result = iterator(result, value, idx);\n  });\n\n  return result;\n}\n\n\n/**\n * Return true if every element in the collection\n * matches the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction every(collection, matcher) {\n\n  return !!reduce(collection, function(matches, val, key) {\n    return matches && matcher(val, key);\n  }, true);\n}\n\n\n/**\n * Return true if some elements in the collection\n * match the criteria.\n *\n * @param  {Object|Array} collection\n * @param  {Function} matcher\n *\n * @return {Boolean}\n */\nfunction some(collection, matcher) {\n\n  return !!find(collection, matcher);\n}\n\n\n/**\n * Transform a collection into another collection\n * by piping each member through the given fn.\n *\n * @param  {Object|Array}   collection\n * @param  {Function} fn\n *\n * @return {Array} transformed collection\n */\nfunction map(collection, fn) {\n\n  let result = [];\n\n  forEach(collection, function(val, key) {\n    result.push(fn(val, key));\n  });\n\n  return result;\n}\n\n\n/**\n * Get the collections keys.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction keys(collection) {\n  return collection && Object.keys(collection) || [];\n}\n\n\n/**\n * Shorthand for `keys(o).length`.\n *\n * @param  {Object|Array} collection\n *\n * @return {Number}\n */\nfunction size(collection) {\n  return keys(collection).length;\n}\n\n\n/**\n * Get the values in the collection.\n *\n * @param  {Object|Array} collection\n *\n * @return {Array}\n */\nfunction values(collection) {\n  return map(collection, (val) => val);\n}\n\n\n/**\n * Group collection members by attribute.\n *\n * @param  {Object|Array} collection\n * @param  {Function} extractor\n *\n * @return {Object} map with { attrValue => [ a, b, c ] }\n */\nfunction groupBy(collection, extractor, grouped = {}) {\n\n  extractor = toExtractor(extractor);\n\n  forEach(collection, function(val) {\n    let discriminator = extractor(val) || '_';\n\n    let group = grouped[discriminator];\n\n    if (!group) {\n      group = grouped[discriminator] = [];\n    }\n\n    group.push(val);\n  });\n\n  return grouped;\n}\n\n\nfunction uniqueBy(extractor, ...collections) {\n\n  extractor = toExtractor(extractor);\n\n  let grouped = {};\n\n  forEach(collections, (c) => groupBy(c, extractor, grouped));\n\n  let result = map(grouped, function(val, key) {\n    return val[0];\n  });\n\n  return result;\n}\n\n\nconst unionBy = uniqueBy;\n\n\n\n/**\n * Sort collection by criteria.\n *\n * @param  {Object|Array} collection\n * @param  {String|Function} extractor\n *\n * @return {Array}\n */\nfunction sortBy(collection, extractor) {\n\n  extractor = toExtractor(extractor);\n\n  let sorted = [];\n\n  forEach(collection, function(value, key) {\n    let disc = extractor(value, key);\n\n    let entry = {\n      d: disc,\n      v: value\n    };\n\n    for (var idx = 0; idx < sorted.length; idx++) {\n      let { d } = sorted[idx];\n\n      if (disc < d) {\n        sorted.splice(idx, 0, entry);\n        return;\n      }\n    }\n\n    // not inserted, append (!)\n    sorted.push(entry);\n  });\n\n  return map(sorted, (e) => e.v);\n}\n\n\n/**\n * Create an object pattern matcher.\n *\n * @example\n *\n * const matcher = matchPattern({ id: 1 });\n *\n * let element = find(elements, matcher);\n *\n * @param  {Object} pattern\n *\n * @return {Function} matcherFn\n */\nfunction matchPattern(pattern) {\n\n  return function(el) {\n\n    return every(pattern, function(val, key) {\n      return el[key] === val;\n    });\n\n  };\n}\n\n\nfunction toExtractor(extractor) {\n  return isFunction(extractor) ? extractor : (e) => {\n    return e[extractor];\n  };\n}\n\n\nfunction toMatcher(matcher) {\n  return isFunction(matcher) ? matcher : (e) => {\n    return e === matcher;\n  };\n}\n\n\nfunction identity(arg) {\n  return arg;\n}\n\nfunction toNum(arg) {\n  return Number(arg);\n}\n\n/**\n * Debounce fn, calling it only once if the given time\n * elapsed between calls.\n *\n * Lodash-style the function exposes methods to `#clear`\n * and `#flush` to control internal behavior.\n *\n * @param  {Function} fn\n * @param  {Number} timeout\n *\n * @return {Function} debounced function\n */\nfunction debounce(fn, timeout) {\n\n  let timer;\n\n  let lastArgs;\n  let lastThis;\n\n  let lastNow;\n\n  function fire(force) {\n\n    let now = Date.now();\n\n    let scheduledDiff = force ? 0 : (lastNow + timeout) - now;\n\n    if (scheduledDiff > 0) {\n      return schedule(scheduledDiff);\n    }\n\n    fn.apply(lastThis, lastArgs);\n\n    clear();\n  }\n\n  function schedule(timeout) {\n    timer = setTimeout(fire, timeout);\n  }\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    timer = lastNow = lastArgs = lastThis = undefined;\n  }\n\n  function flush() {\n    if (timer) {\n      fire(true);\n    }\n\n    clear();\n  }\n\n  function callback(...args) {\n    lastNow = Date.now();\n\n    lastArgs = args;\n    lastThis = this;\n\n    // ensure an execution is scheduled\n    if (!timer) {\n      schedule(timeout);\n    }\n  }\n\n  callback.flush = flush;\n  callback.cancel = clear;\n\n  return callback;\n}\n\n/**\n * Throttle fn, calling at most once\n * in the given interval.\n *\n * @param  {Function} fn\n * @param  {Number} interval\n *\n * @return {Function} throttled function\n */\nfunction throttle(fn, interval) {\n  let throttling = false;\n\n  return function(...args) {\n\n    if (throttling) {\n      return;\n    }\n\n    fn(...args);\n    throttling = true;\n\n    setTimeout(() => {\n      throttling = false;\n    }, interval);\n  };\n}\n\n/**\n * Bind function against target <this>.\n *\n * @param  {Function} fn\n * @param  {Object}   target\n *\n * @return {Function} bound function\n */\nfunction bind(fn, target) {\n  return fn.bind(target);\n}\n\n/**\n * Convenience wrapper for `Object.assign`.\n *\n * @param {Object} target\n * @param {...Object} others\n *\n * @return {Object} the target\n */\nfunction assign(target, ...others) {\n  return Object.assign(target, ...others);\n}\n\n/**\n * Sets a nested property of a given object to the specified value.\n *\n * This mutates the object and returns it.\n *\n * @param {Object} target The target of the set operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} value The value to set.\n */\nfunction set(target, path, value) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key, idx) {\n\n    if (typeof key !== 'number' && typeof key !== 'string') {\n      throw new Error('illegal key type: ' + typeof key + '. Key should be of type number or string.');\n    }\n\n    if (key === 'constructor') {\n      throw new Error('illegal key: constructor');\n    }\n\n    if (key === '__proto__') {\n      throw new Error('illegal key: __proto__');\n    }\n\n    let nextKey = path[idx + 1];\n    let nextTarget = currentTarget[key];\n\n    if (isDefined(nextKey) && isNil(nextTarget)) {\n      nextTarget = currentTarget[key] = isNaN(+nextKey) ? {} : [];\n    }\n\n    if (isUndefined(nextKey)) {\n      if (isUndefined(value)) {\n        delete currentTarget[key];\n      } else {\n        currentTarget[key] = value;\n      }\n    } else {\n      currentTarget = nextTarget;\n    }\n  });\n\n  return target;\n}\n\n\n/**\n * Gets a nested property of a given object.\n *\n * @param {Object} target The target of the get operation.\n * @param {(string|number)[]} path The path to the nested value.\n * @param {any} [defaultValue] The value to return if no value exists.\n */\nfunction get(target, path, defaultValue) {\n\n  let currentTarget = target;\n\n  forEach(path, function(key) {\n\n    // accessing nil property yields <undefined>\n    if (isNil(currentTarget)) {\n      currentTarget = undefined;\n\n      return false;\n    }\n\n    currentTarget = currentTarget[key];\n  });\n\n  return isUndefined(currentTarget) ? defaultValue : currentTarget;\n}\n\n/**\n * Pick given properties from the target object.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\nfunction pick(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(properties, function(prop) {\n\n    if (prop in obj) {\n      result[prop] = target[prop];\n    }\n  });\n\n  return result;\n}\n\n/**\n * Pick all target properties, excluding the given ones.\n *\n * @param {Object} target\n * @param {Array} properties\n *\n * @return {Object} target\n */\nfunction omit(target, properties) {\n\n  let result = {};\n\n  let obj = Object(target);\n\n  forEach(obj, function(prop, key) {\n\n    if (properties.indexOf(key) === -1) {\n      result[key] = prop;\n    }\n  });\n\n  return result;\n}\n\n/**\n * Recursively merge `...sources` into given target.\n *\n * Does support merging objects; does not support merging arrays.\n *\n * @param {Object} target\n * @param {...Object} sources\n *\n * @return {Object} the target\n */\nfunction merge(target, ...sources) {\n\n  if (!sources.length) {\n    return target;\n  }\n\n  forEach(sources, function(source) {\n\n    // skip non-obj sources, i.e. null\n    if (!source || !isObject(source)) {\n      return;\n    }\n\n    forEach(source, function(sourceVal, key) {\n\n      if (key === '__proto__') {\n        return;\n      }\n\n      let targetVal = target[key];\n\n      if (isObject(sourceVal)) {\n\n        if (!isObject(targetVal)) {\n\n          // override target[key] with object\n          targetVal = {};\n        }\n\n        target[key] = merge(targetVal, sourceVal);\n      } else {\n        target[key] = sourceVal;\n      }\n\n    });\n  });\n\n  return target;\n}\n\nexport { assign, bind, debounce, ensureArray, every, filter, find, findIndex, flatten, forEach, get, groupBy, has, isArray, isDefined, isFunction, isNil, isNumber, isObject, isString, isUndefined, keys, map, matchPattern, merge, omit, pick, reduce, set, size, some, sortBy, throttle, unionBy, uniqueBy, values, without };\n","import ExtractionHandler from './ExtractionHandler';\n\nfunction CommandInitializer(eventBus, commandStack) {\n  eventBus.on('diagram.init', function() {\n    commandStack.registerHandler(\n        'elements.moveToSubprocess', ExtractionHandler,\n    );\n  });\n}\n\nCommandInitializer.$inject = ['eventBus', 'commandStack'];\n\nexport default {\n  __init__: [\n    CommandInitializer,\n  ],\n};\n","import {getPlaneIdFromShape} from 'bpmn-js/lib/util/DrilldownUtil';\n\nimport {getBBox, getParents} from '../util/refactoringUtil';\n\nconst DEFAULT_POSITION = {\n  x: 180,\n  y: 160,\n};\n\nconst BUFFER_SIZE = 100;\n\nexport default class ExtractionHandler {\n  constructor(commandStack, modeling, canvas, elementRegistry, selection) {\n    this._commandStack = commandStack;\n    this._modeling = modeling;\n    this._canvas = canvas;\n    this._elementRegistry = elementRegistry;\n    this._selection = selection;\n  }\n\n  preExecute(context) {\n    const {\n      _modeling: modeling,\n      _canvas: canvas,\n      _elementRegistry: elementRegistry,\n      _selection: selection,\n    } = this;\n    const elements = context.elements.filter((el) => {\n      return !el.waypoints;\n    });\n\n    const groupFlows = context.groupFlows;\n\n    // create new subprocess\n    const elementBB = getBBox(elements);\n    const mid = {\n      x: elementBB.x + elementBB.width / 2,\n      y: elementBB.y + elementBB.height / 2,\n    };\n\n    const newPosition = getPositionOnFlow(groupFlows) || mid;\n\n    const rootElement = getSharedRoot(elements) || canvas.getRootElement();\n\n    const newSubprocess = modeling.createShape(\n        {type: 'bpmn:SubProcess', expanded: false},\n        newPosition,\n        rootElement);\n    const plane = elementRegistry.get(getPlaneIdFromShape(newSubprocess));\n\n\n    // Reconnect flows\n\n    // Save starting and ending tasks for connection in the subprocess\n    const startingTasks = groupFlows.incoming.map(\n        (flow) => flow.target,\n    );\n\n    const endTasks = groupFlows.outgoing.map(\n        (flow) => flow.source,\n    );\n\n    groupFlows.incoming.forEach((flow) => {\n      modeling.reconnectEnd(flow, newSubprocess, newPosition);\n    });\n\n    groupFlows.outgoing.forEach((flow) => {\n      modeling.reconnectStart(flow, newSubprocess, newPosition);\n    });\n\n\n    // Create start and end events\n    const startEvent = startingTasks.length && modeling.createShape(\n        {type: 'bpmn:StartEvent'},\n        DEFAULT_POSITION,\n        plane);\n\n    const endEvent = endTasks.length && modeling.createShape(\n        {type: 'bpmn:EndEvent'},\n        {\n          x: DEFAULT_POSITION.x + elementBB.width + BUFFER_SIZE * 2,\n          y: DEFAULT_POSITION.y,\n        },\n        plane);\n\n    // move all elements to the new subprocess\n    modeling.moveElements(\n        getParents(elements),\n        {\n          x: -elementBB.x + DEFAULT_POSITION.x + BUFFER_SIZE,\n          y: -elementBB.y + DEFAULT_POSITION.y - 40,\n        },\n        plane,\n    );\n\n    // Connect to start and end events\n    startingTasks.forEach((task) => {\n      modeling.connect(startEvent, task);\n    });\n\n    endTasks.forEach((task) => {\n      modeling.connect(task, endEvent);\n    });\n\n    selection.select(newSubprocess);\n  }\n}\n\nExtractionHandler.$inject = [\n  'commandStack', 'modeling', 'canvas', 'elementRegistry', 'selection',\n];\n\n\nfunction getPositionOnFlow(groupFlows) {\n  const {incoming, outgoing} = groupFlows;\n\n  if (incoming.length === 0 || outgoing.length === 0) {\n    return null;\n  }\n\n  const averageStart = incoming.reduce((sum, flow) => {\n    const waypoint = flow.waypoints[flow.waypoints.length - 1];\n\n    return {\n      x: sum.x + waypoint.x,\n      y: sum.y + waypoint.y,\n    };\n  }, {x: 0, y: 0});\n\n  averageStart.x /= incoming.length;\n  averageStart.y /= incoming.length;\n\n\n  const averageEnd = outgoing.reduce((sum, flow) => {\n    const waypoint = flow.waypoints[0];\n    return {\n      x: sum.x + waypoint.x,\n      y: sum.y + waypoint.y,\n    };\n  }, {x: 0, y: 0});\n\n  averageEnd.x /= outgoing.length;\n  averageEnd.y /= outgoing.length;\n\n  return {\n    x: (averageStart.x + averageEnd.x) / 2,\n    y: (averageStart.y + averageEnd.y) / 2,\n  };\n}\n\n\nfunction getSharedRoot(elements) {\n  if (!elements.length) {\n    return;\n  }\n\n  let potentialParents = getParentChain(elements[0]);\n\n  elements.forEach((el) => {\n    const parents = getParentChain(el);\n\n    potentialParents = potentialParents.filter((p) => {\n      return parents.includes(p);\n    });\n  });\n\n  return potentialParents[potentialParents.length - 1];\n}\n\nfunction getParentChain(element) {\n  if (!element || element === element.parent) {\n    return [];\n  }\n\n  return [...getParentChain(element.parent), element];\n}\n","import { getDi, is } from './ModelUtil';\n\n\nexport var planeSuffix = '_plane';\n\n/**\n * Get primary shape ID for a plane.\n *\n * @param  {djs.model.Base|ModdleElement} element\n *\n * @returns {String}\n */\nexport function getShapeIdFromPlane(element) {\n  var id = element.id;\n\n  return removePlaneSuffix(id);\n}\n\n/**\n * Get plane ID for a primary shape.\n *\n * @param  {djs.model.Base|ModdleElement} element\n *\n * @returns {String}\n */\nexport function getPlaneIdFromShape(element) {\n  var id = element.id;\n\n  if (is(element, 'bpmn:SubProcess')) {\n    return addPlaneSuffix(id);\n  }\n\n  return id;\n}\n\n/**\n * Get plane ID for primary shape ID.\n *\n * @param {String} id\n *\n * @returns {String}\n */\nexport function toPlaneId(id) {\n  return addPlaneSuffix(id);\n}\n\n/**\n * Check wether element is plane.\n *\n * @param  {djs.model.Base|ModdleElement} element\n *\n * @returns {Boolean}\n */\nexport function isPlane(element) {\n  var di = getDi(element);\n\n  return is(di, 'bpmndi:BPMNPlane');\n}\n\nfunction addPlaneSuffix(id) {\n  return id + planeSuffix;\n}\n\nfunction removePlaneSuffix(id) {\n  return id.replace(new RegExp(planeSuffix + '$'), '');\n}","import {\n  some\n} from 'min-dash';\n\n\n/**\n * Is an element of the given BPMN type?\n *\n * @param  {djs.model.Base|ModdleElement} element\n * @param  {string} type\n *\n * @return {boolean}\n */\nexport function is(element, type) {\n  var bo = getBusinessObject(element);\n\n  return bo && (typeof bo.$instanceOf === 'function') && bo.$instanceOf(type);\n}\n\n\n/**\n * Return true if element has any of the given types.\n *\n * @param {djs.model.Base} element\n * @param {Array<string>} types\n *\n * @return {boolean}\n */\nexport function isAny(element, types) {\n  return some(types, function(t) {\n    return is(element, t);\n  });\n}\n\n/**\n * Return the business object for a given element.\n *\n * @param  {djs.model.Base|ModdleElement} element\n *\n * @return {ModdleElement}\n */\nexport function getBusinessObject(element) {\n  return (element && element.businessObject) || element;\n}\n\n/**\n * Return the di object for a given element.\n *\n * @param  {djs.model.Base} element\n *\n * @return {ModdleElement}\n */\nexport function getDi(element) {\n  return element && element.di;\n}"],"names":[],"version":3,"file":"client.js.map"}